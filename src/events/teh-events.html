<template>
  <h1>Events</h1>

  <p> Maybe implement export to excel? </p>
  <p> Maybe validate contents of imported file before letting user do things with it? </p>
  <p> Maybe validate merge results before letting user save it? </p>
  <p> Maybe have tba import go through merge if event already exists?</p>
  <p> Maybe implement delete event?</p>

  <div class='container'>

    <div class='row'>
      <div class='col'>
        <div class='btn-group float-right'>
          <button class='btn btn-secondary' click.delegate='tbaImport()'>
            Import from TBA
            <img src="static/tba.png" />
          </button>
          <button class='btn btn-primary' click.delegate='importJson()'>
            Import from json
          </button>
        </div>
      </div>
    </div>
    <table class='table table-hover'>
      <tr>
        <th>Event</th>
        <th>Game</th>
        <th>Year</th>
      </tr>

      <tr repeat.for="event of events">
        <td><a route-href="route.bind:'event'; params.bind: {year: event.year, eventCode: event.eventCode}">${event.name}</a></td>
        <td> ${games[event.year].name} </td>
        <td> ${event.year} </td>
        <td>
          <button class='btn btn-primary' click.delegate="exportEvent(event)">
            Export json
          </button>
        </td>
      </tr>
    </table>
  </div>
</template>
